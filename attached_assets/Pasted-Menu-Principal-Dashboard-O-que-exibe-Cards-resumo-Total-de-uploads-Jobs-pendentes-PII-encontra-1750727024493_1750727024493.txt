Menu Principal
Dashboard

O que exibe:

Cards resumo (Total de uploads, Jobs pendentes, PII encontradas, Falsos-positivos pendentes).

Gráfico de uploads por dia.

Últimos alertas (ClamAV atrasado, cota OpenAI, jobs com erro).

Ações:

Clicar em um card leva ao detalhe da seção correspondente.

Botão rápido “Novo upload”.

Arquivos

Sub-itens:

Enviar

Formulário drag-&-drop ou botão “Selecionar ZIP/Pasta”.

Após envio, mostra modal com progresso do scan ClamAV e da extração.

Enviar ZIP / Pasta

Permite apontar ZIPs já existentes no servidor via name ou escolher diretório local (inotify).

Inicia job de extração e scan de cada arquivo.

Meus uploads

Tabela paginada: nome do arquivo, data, status (Scanning, Clean, Infected, Processed), risco.

Ações por linha: Baixar original, Reprocessar, Excluir.

O que acontece:

Cada upload dispara ArchiveScan → FileProcess.

Status e progresso são atualizados em tempo real via WebSocket.

Jobs

Sub-itens:

Fila em tempo real

Stream de jobs (BullMQ) com colunas: Job-ID, Tipo (Archive/File), Progresso %, Estado.

Botões: Pausar worker, Retry job.

Histórico

Lista de jobs finalizados (sucesso/falha), filtro por data e tipo.

Acesso aos logs de erro.

O que acontece:

Permite monitorar desempenho e diagnosticar falhas de processamento.

Detecções

O que exibe:

Tabela de todas as detecções de PII com colunas: Tipo (CPF, CNPJ, E-mail…), Valor, Contexto semântico (GPT-4o), Risco, Arquivo origem, Falso-positivo (badge).

Filtros: Tipo, risco, semanticLike, falsePositive.

Ações:

Marcar falso-positivo: botão que dispara PATCH /detections/:id/flag.

Exportar CSV (com BOM) do conjunto filtrado.

Relatórios

Sub-itens:

LGPD Consolidado

Cards: total documentos, titulares únicos, total dados sensíveis.

Gráfico de barras: distribuição por tipo de dado.

Por Titular

Lista de titulares com contagem de ocorrências e arquivos associados.

Filtros por domínio de e-mail e CNPJ.

Por Organização

Matriz de organizações × tipo de dado.

Incidentes & Falsos-positivos

Histórico de detecções marcadas como incidentes ou falsos-positivos.

Ações:

Gerar/baixar CSV ou PDF.

Agendar relatórios recorrentes (por cron).

Fontes de Diretório

O que exibe:

Lista de caminhos monitorados no servidor (sources).

Última varredura, status (OK, INFECTED, ERROR), profundidade.

Ações:

Adicionar nova pasta (definir scheduleType: one-shot, diário, realtime).

Disparar scan manual.

Editar configurações de ignorados (extensões, diretórios).

Remover fonte.

Padrões Regex (PII)

O que exibe:

CRUD de padrões: ID (CPF, CNPJ…), expressão regular, descrição, nível de risco, habilitado/ desabilitado.

Ações:

Adicionar/editar/excluir padrão.

Toggle “enabled” para ativar/desativar sem reiniciar.

Configurações

O que exibe:

Preferências do usuário: tema (claro/escuro), notificações por e-mail.

Endpoints de webhook (ex.: Slack).

Ações:

Salvar alterações.

Testar conexão de e-mail ou webhook.

Administração (visível só para perfis admin)

Sub-itens:

Usuários

Lista de usuários do sistema, papéis (admin, analista), status (ativo, bloqueado).

Ações: criar, editar, bloquear, reset de senha, forçar 2FA.

Variáveis de Ambiente

Editor de pares key/value: OPENAI_API_KEY, MAX_UPLOAD_MB, CLAMAV_HOST…

Toggle “masked”/“visible”.

Botão “Testar conexão OpenAI” e “Testar ClamAV”.

Logs & Auditoria

Viewer full-text dos logs de operação (Loki/OpenSearch).

Filtros por data, nível (info, warning, error).

Exportar log selecionado.

Cada seção invoca chamadas à API sob o prefixo /api/v1, protegidas por middleware JWT (requireAuth), com roles para acesso a Admin.

Com este menu definido, toda a navegação do aplicativo e o comportamento de cada etapa estão claramente estruturados para implementar no frontend React/Vite.